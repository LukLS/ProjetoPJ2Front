{"ast":null,"code":"import axios from 'axios';\nimport StorageService from './StorageService';\nexport const LOGGED_USER = \"loggedUser\";\nexport const TOKEN = \"token\";\nconst baseURL = process.env.REACT_APP_API_URL;\nexport const httpClient = axios.create({\n  baseURL: 'http://localhost:8080/api',\n  withCredentials: true\n});\nexport default class ApiService {\n  constructor(endpoint) {\n    this.endpoint = endpoint;\n    this.storageService = new StorageService();\n    const token = this.storageService.getItem(TOKEN);\n    this.registerToken(token);\n  }\n  registerToken(token) {\n    if (token) {\n      httpClient.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n    }\n  }\n  post(url, params) {\n    url = this.buildUrl(url);\n    return httpClient.post(url, params).then(response => {\n      return response;\n    }).catch(error => {\n      localStorage.setItem(\"error\", error.message);\n      throw error;\n    });\n  }\n  put(url, params) {\n    url = this.buildUrl(url);\n    return httpClient.put(url, params);\n  }\n  delete(url) {\n    url = this.buildUrl(url);\n    return httpClient.delete(url);\n  }\n  get(url) {\n    url = this.buildUrl(url);\n    return httpClient.get(url);\n  }\n  buildUrl(url) {\n    return `${this.endpoint}${url}`;\n  }\n}","map":{"version":3,"names":["axios","StorageService","LOGGED_USER","TOKEN","baseURL","process","env","REACT_APP_API_URL","httpClient","create","withCredentials","ApiService","constructor","endpoint","storageService","token","getItem","registerToken","defaults","headers","common","post","url","params","buildUrl","then","response","catch","error","localStorage","setItem","message","put","delete","get"],"sources":["C:/Users/franc/Desktop/Projetos/ProjetoAdvocaciaFront/src/services/ApiService.js"],"sourcesContent":["import axios from 'axios';\r\nimport StorageService from './StorageService';\r\n\r\nexport const LOGGED_USER = \"loggedUser\";\r\nexport const TOKEN = \"token\";\r\n\r\nconst baseURL = process.env.REACT_APP_API_URL;\r\n\r\nexport const httpClient = axios.create({\r\n    baseURL:'http://localhost:8080/api',\r\n    withCredentials: true,\r\n});\r\n\r\nexport default class ApiService{\r\n    \r\n    constructor(endpoint){\r\n        this.endpoint = endpoint;\r\n        \r\n        this.storageService = new StorageService();\r\n        const token = this.storageService.getItem(TOKEN);\r\n        this.registerToken(token);\r\n    }\r\n\r\n    registerToken(token){\r\n        if(token){\r\n            httpClient.defaults.headers.common['Authorization'] = `Bearer ${token}`\r\n        }        \r\n    }\r\n\r\n    post(url, params) {\r\n        url = this.buildUrl(url);\r\n      \r\n        return httpClient.post(url, params)\r\n          .then(response => {\r\n             return response;\r\n          })\r\n          .catch(error => {\r\n            localStorage.setItem(\"error\", error.message);\r\n            throw error;\r\n          });\r\n      }\r\n      \r\n\r\n    put(url, params){\r\n        url = this.buildUrl(url);\r\n        return httpClient.put(url, params);\r\n    }\r\n\r\n    delete(url){\r\n        url = this.buildUrl(url);\r\n        return httpClient.delete(url);\r\n    }\r\n\r\n    get(url){\r\n        url = this.buildUrl(url);\r\n        return httpClient.get(url);\r\n    }\r\n\r\n    buildUrl(url){\r\n        return `${this.endpoint}${url}`;\r\n    }\r\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,cAAc,MAAM,kBAAkB;AAE7C,OAAO,MAAMC,WAAW,GAAG,YAAY;AACvC,OAAO,MAAMC,KAAK,GAAG,OAAO;AAE5B,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB;AAE7C,OAAO,MAAMC,UAAU,GAAGR,KAAK,CAACS,MAAM,CAAC;EACnCL,OAAO,EAAC,2BAA2B;EACnCM,eAAe,EAAE;AACrB,CAAC,CAAC;AAEF,eAAe,MAAMC,UAAU;EAE3BC,WAAWA,CAACC,QAAQ,EAAC;IACjB,IAAI,CAACA,QAAQ,GAAGA,QAAQ;IAExB,IAAI,CAACC,cAAc,GAAG,IAAIb,cAAc,CAAC,CAAC;IAC1C,MAAMc,KAAK,GAAG,IAAI,CAACD,cAAc,CAACE,OAAO,CAACb,KAAK,CAAC;IAChD,IAAI,CAACc,aAAa,CAACF,KAAK,CAAC;EAC7B;EAEAE,aAAaA,CAACF,KAAK,EAAC;IAChB,IAAGA,KAAK,EAAC;MACLP,UAAU,CAACU,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,GAAI,UAASL,KAAM,EAAC;IAC3E;EACJ;EAEAM,IAAIA,CAACC,GAAG,EAAEC,MAAM,EAAE;IACdD,GAAG,GAAG,IAAI,CAACE,QAAQ,CAACF,GAAG,CAAC;IAExB,OAAOd,UAAU,CAACa,IAAI,CAACC,GAAG,EAAEC,MAAM,CAAC,CAChCE,IAAI,CAACC,QAAQ,IAAI;MACf,OAAOA,QAAQ;IAClB,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAI;MACdC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEF,KAAK,CAACG,OAAO,CAAC;MAC5C,MAAMH,KAAK;IACb,CAAC,CAAC;EACN;EAGFI,GAAGA,CAACV,GAAG,EAAEC,MAAM,EAAC;IACZD,GAAG,GAAG,IAAI,CAACE,QAAQ,CAACF,GAAG,CAAC;IACxB,OAAOd,UAAU,CAACwB,GAAG,CAACV,GAAG,EAAEC,MAAM,CAAC;EACtC;EAEAU,MAAMA,CAACX,GAAG,EAAC;IACPA,GAAG,GAAG,IAAI,CAACE,QAAQ,CAACF,GAAG,CAAC;IACxB,OAAOd,UAAU,CAACyB,MAAM,CAACX,GAAG,CAAC;EACjC;EAEAY,GAAGA,CAACZ,GAAG,EAAC;IACJA,GAAG,GAAG,IAAI,CAACE,QAAQ,CAACF,GAAG,CAAC;IACxB,OAAOd,UAAU,CAAC0B,GAAG,CAACZ,GAAG,CAAC;EAC9B;EAEAE,QAAQA,CAACF,GAAG,EAAC;IACT,OAAQ,GAAE,IAAI,CAACT,QAAS,GAAES,GAAI,EAAC;EACnC;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}